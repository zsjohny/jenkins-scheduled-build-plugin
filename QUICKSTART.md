# 快速启动指南

## 5分钟快速上手

### 第1步：构建插件 (1分钟)

```bash
cd jenkins-scheduled-build-plugin
./build.sh
```

或者使用Maven:
```bash
mvn clean package
```

### 第2步：安装插件 (2分钟)

#### 方法A - Web界面上传
1. 打开Jenkins: http://your-jenkins-url
2. 点击 "系统管理" → "插件管理" → "高级"
3. 滚动到"上传插件"区域
4. 选择 `target/scheduled-build.hpi`
5. 点击"上传"
6. 重启Jenkins

#### 方法B - 命令行安装
```bash
cp target/scheduled-build.hpi $JENKINS_HOME/plugins/
# 重启Jenkins
```

#### 方法C - 开发模式（推荐用于测试）
```bash
mvn hpi:run
# 访问 http://localhost:8080/jenkins
```

### 第3步：配置任务 (1分钟)

1. 打开任意Jenkins任务的配置页面
2. 找到"启用预约构建"复选框
3. ✓ 勾选它
4. 点击"保存"

### 第4步：添加第一个预约 (1分钟)

1. 进入任务主页
2. 点击左侧菜单的 "⏰ 预约构建"
3. 填写表单：
   - **预约时间**: 选择10分钟后的时间
   - **描述**: 我的第一个预约测试
   - **参数**: (如果有的话) 填写测试值
4. 点击"添加预约"

### 第5步：观察执行 

1. 页面会显示"待执行的预约"列表
2. 可以看到倒计时
3. 到时间后会自动触发构建
4. 在"构建历史"中查看执行结果

---

## 完整示例：参数化构建预约

假设你有一个参数化的部署任务：

### 任务参数
- `ENVIRONMENT`: 部署环境 (dev/test/prod)
- `BRANCH`: Git分支
- `NOTIFY`: 是否发送通知 (true/false)

### 预约步骤

```
1. 进入任务的"预约构建"页面

2. 填写预约信息：
   预约时间: 2024-12-31 23:00
   描述: 新年版本发布
   
3. 设置参数：
   ENVIRONMENT: prod
   BRANCH: release/v2.0
   NOTIFY: true
   
4. 点击"添加预约"

5. 完成！到时间会自动执行
```

---

## 常用操作速查

### 查看所有预约
```
任务页面 → 预约构建 → 查看列表
```

### 取消预约
```
任务页面 → 预约构建 → 找到预约 → 点击"取消"
```

### 删除记录
```
任务页面 → 预约构建 → 找到记录 → 点击"删除记录"
```

### 添加多个预约
重复添加操作，每个预约可以设置不同的时间和参数

---

## 实用场景模板

### 模板1: 深夜部署
```yaml
预约时间: 今晚 02:00
描述: 凌晨生产部署
参数:
  ENVIRONMENT: production
  ENABLE_BACKUP: true
  NOTIFICATION_EMAIL: team@company.com
```

### 模板2: 周期性测试
```yaml
# 添加3个预约
预约1:
  时间: 今晚 22:00
  描述: 晚间冒烟测试
  参数: TEST_SUITE=smoke

预约2:
  时间: 今晚 23:30
  描述: 深度回归测试
  参数: TEST_SUITE=regression

预约3:
  时间: 明早 06:00
  描述: 早晨性能测试
  参数: TEST_SUITE=performance
```

### 模板3: 定时报告
```yaml
预约时间: 每周一 09:00
描述: 周报生成
参数:
  REPORT_TYPE: weekly
  FORMAT: pdf
  SEND_EMAIL: true
```

---

## 故障排除

### 问题：找不到"预约构建"菜单

**解决方案：**
1. 确认插件已安装（系统管理 → 插件管理 → 已安装）
2. 确认任务配置中已勾选"启用预约构建"
3. 刷新页面或清除浏览器缓存

### 问题：预约没有执行

**检查清单：**
- [ ] Jenkins在预约时间是否在运行？
- [ ] 查看构建队列是否有该任务
- [ ] 检查预约状态是否为"待执行"
- [ ] 查看Jenkins日志是否有错误

### 问题：参数没有生效

**解决方案：**
1. 确认任务已配置为参数化构建
2. 检查添加预约时参数值是否正确填写
3. 在构建历史中查看实际使用的参数值

---

## 下一步

- 阅读 [完整文档](README.md)
- 查看 [详细使用指南](USAGE_CN.md)
- 了解更多 [使用场景](README.md#使用场景)

---

**🎉 开始使用预约构建，让Jenkins更智能！**



