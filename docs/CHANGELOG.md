# 更新日志

所有重要的项目变更都会记录在这个文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 改进
- ⏰ 添加时区配置支持
  - Docker 环境自动配置为上海时区 (Asia/Shanghai)
  - 详细的时区配置文档和验证脚本
  - 支持多种时区配置方式

### 计划中的功能
- 批量预约操作
- 预约模板功能
- REST API支持
- 循环预约支持
- 实时倒计时（WebSocket）
- 预约执行统计报表

## [1.0.0] - 2025-10-19

### 新增
- ✨ 基础预约构建功能
  - 支持为Jenkins任务添加预约构建
  - 可设置具体的日期和时间
  - 自动在预约时间触发构建

- ✨ 多任务预约支持
  - 同一任务可设置多条预约
  - 每条预约独立管理
  - 支持并发执行

- ✨ 参数化构建支持
  - 支持字符串参数
  - 支持布尔参数
  - 支持选择参数
  - 每个预约可配置不同的参数值

- ✨ 预约管理功能
  - 查看所有预约列表
  - 取消待执行的预约
  - 删除历史记录
  - 实时倒计时显示

- ✨ 状态跟踪
  - 待执行：蓝色标记，显示倒计时
  - 已执行：绿色标记
  - 已取消：红色标记
  - 已过期：橙色标记

- ✨ 持久化存储
  - 预约信息自动保存
  - Jenkins重启后自动恢复
  - 未执行的预约继续有效

- 🎨 用户界面
  - 友好的预约添加表单
  - 清晰的预约列表展示
  - 响应式设计
  - 支持中文界面

- 📖 完整文档
  - 项目README
  - 详细使用指南
  - 快速开始指南
  - 架构设计文档
  - 贡献指南
  - CI/CD 指南
  - 版本要求说明

- 🔧 开发工具
  - Maven构建配置
  - 构建脚本
  - Maven Wrapper
  - Docker 演示环境
  - GitHub Actions CI/CD

### 技术特性
- **双重扩展点注册机制**
  - 方式1：META-INF/services/hudson.Extension 索引文件
  - 方式2：PluginImpl 类 + @Initializer 注解
  - 无需外部 Groovy 脚本
  - 标准 Jenkins 插件架构
- 基于 Jenkins 2.401.3+ LTS
- 使用 Java 11
- Maven 父 POM 4.75
- 线程安全的并发控制
- 自动持久化机制
- 完善的权限检查
- 详细的日志记录

### 安全性
- 遵循Jenkins权限体系
- CSRF保护
- 操作审计日志

### 性能
- 线程池管理（5个工作线程）
- 内存高效（ConcurrentHashMap）
- 延迟调度机制
- 不影响Jenkins核心性能

### CI/CD
- GitHub Actions 自动构建
- PR 自动检查
- 自动发布和打包
- 构建产物上传

## 版本说明

### 语义化版本规则

给定版本号 MAJOR.MINOR.PATCH：

- **MAJOR**: 不兼容的API变更
- **MINOR**: 向下兼容的功能新增
- **PATCH**: 向下兼容的问题修正

### 版本标记

- **[未发布]**: 正在开发的功能
- **[X.Y.Z]**: 已发布的版本

### 变更类型

- **新增**: 新功能
- **变更**: 现有功能的变更
- **废弃**: 即将删除的功能
- **移除**: 已删除的功能
- **修复**: Bug修复
- **安全**: 安全性修复

## 升级指南

### 从0.9.0-beta升级到1.0.0

1. 备份Jenkins配置目录
2. 停止Jenkins
3. 替换插件文件
4. 启动Jenkins
5. 验证预约列表显示正常

注意：0.9.0版本的预约数据会自动迁移。

## 路线图

### v1.1.0（计划中）
- [ ] 批量操作功能
- [ ] 预约模板
- [ ] 邮件通知
- [ ] 性能优化

### v1.2.0（计划中）
- [ ] REST API
- [ ] 循环预约
- [ ] WebSocket实时更新
- [ ] 权限细化

### v2.0.0（未来）
- [ ] 完全重构的UI
- [ ] Pipeline任务支持增强
- [ ] 分布式调度
- [ ] 高级统计功能

## 贡献者

感谢所有为这个项目做出贡献的人！

---

**注意**: 本文档持续更新中。查看最新版本请访问项目仓库。



